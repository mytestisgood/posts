<div
  *ngIf="chatItems; else loadingTemplate"
  class="p-6"
>
  <smarti-tabs
    [firstButtonText]="'סגור'"
    [secondButtonText]="'בטיפול'"
    [thirdButtonText]="'פתוח'"
    [fourthButtonText]="'כלל הסטטוסים'"
    [activeItemIndex]="activeItemIndex"
    (activeItemIndexChange)="onChangeActiveTabIndex($event)"
  ></smarti-tabs>
  <div class="flex flex-col gap-4 mt-6">
    <ng-container [ngSwitch]="activeItemIndex">
      <ng-container *ngSwitchCase="0">
        <smarti-dashboard-chat-list-item
          [chatsItems]="onFilteredChatItems('close')"
          (activeChatIdChange)="setChatActive($event)"
        ></smarti-dashboard-chat-list-item>
      </ng-container>
      <ng-container *ngSwitchCase="1">
        <smarti-dashboard-chat-list-item
          [chatsItems]="onFilteredChatItems('in_treatment')"
          (activeChatIdChange)="setChatActive($event)"
        ></smarti-dashboard-chat-list-item>
      </ng-container>
      <ng-container *ngSwitchCase="2">
        <smarti-dashboard-chat-list-item
          [chatsItems]="onFilteredChatItems('open')"
          (activeChatIdChange)="setChatActive($event)"
        ></smarti-dashboard-chat-list-item>
      </ng-container>
      <ng-container *ngSwitchCase="3">
        <smarti-dashboard-chat-list-item
          [chatsItems]="onFilteredChatItems('all')"
          (activeChatIdChange)="setChatActive($event)"
        ></smarti-dashboard-chat-list-item>
      </ng-container>
    </ng-container>
  </div>
</div>

<ng-template #loadingTemplate>
  <smarti-loader
    [size]="'xl'"
    [paddingTop30percent]="true"
  ></smarti-loader>
</ng-template>
